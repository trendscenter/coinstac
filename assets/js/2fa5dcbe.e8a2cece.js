"use strict";(self.webpackChunkcoinstac_docs=self.webpackChunkcoinstac_docs||[]).push([[741],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?o.createElement(h,a(a({ref:t},c),{},{components:n})):o.createElement(h,a({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,a[1]=l;for(var p=2;p<i;p++)a[p]=n[p];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},402:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>p});var o=n(7462),r=(n(7294),n(3905));const i={sidebar_position:1},a="Setting up a Coinstac Development Environment",l={unversionedId:"developer/coinstac-setup",id:"developer/coinstac-setup",title:"Setting up a Coinstac Development Environment",description:"These instructions explain how to get COINSTAC up and running on your machine for development or to run your own COINSTAC system:",source:"@site/docs/developer/coinstac-setup.md",sourceDirName:"developer",slug:"/developer/coinstac-setup",permalink:"/developer/coinstac-setup",draft:!1,editUrl:"https://github.com/trendscenter/coinstac/tree/master/coinstac-docs/docs/developer/coinstac-setup.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Developer documentation",permalink:"/category/developer-documentation"},next:{title:"Application overview",permalink:"/developer/application-overview"}},s={},p=[{value:"Install required software",id:"install-required-software",level:2},{value:"Configuring NPM on Windows",id:"configuring-npm-on-windows",level:3},{value:"Download Source Code",id:"download-source-code",level:2},{value:"Install Dependencies",id:"install-dependencies",level:2},{value:"Set environment variables",id:"set-environment-variables",level:2},{value:"Prime the database",id:"prime-the-database",level:2},{value:"Run the UI",id:"run-the-ui",level:2},{value:"Steps to Setup Pipeline",id:"steps-to-setup-pipeline",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"setting-up-a-coinstac-development-environment"},"Setting up a Coinstac Development Environment"),(0,r.kt)("p",null,"These instructions explain how to get COINSTAC up and running on your machine for development or to run your own COINSTAC system:"),(0,r.kt)("h2",{id:"install-required-software"},"Install required software"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"NodeJS"),"\nCOINSTAC only supports the latest LTS version of Node, if you require multiple versions of Node for other projects, a version manager is strongly recommended")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"See detailed instructions here: ",(0,r.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"},"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"))),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"An MQTT client")," Any MQTT client will work listening on localhost and the standard mqtt port (1883). We prefer ",(0,r.kt)("a",{parentName:"p",href:"https://mosquitto.org/"},"mosquitto"),". Mosquitto is available on ",(0,r.kt)("inlineCode",{parentName:"p"},"brew")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"apt"),".")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Docker")," To run computations you'll need ",(0,r.kt)("a",{parentName:"p",href:"https://docs.docker.com/get-docker/"},"Docker"),". Docker memory requirements differ per computation, but 4gb is recommended as a minimum and 12gb will allow most any computation to run.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Git"),"\n",(0,r.kt)("a",{parentName:"p",href:"https://git-scm.com/download"},"https://git-scm.com/download")))),(0,r.kt)("h3",{id:"configuring-npm-on-windows"},"Configuring NPM on Windows"),(0,r.kt)("p",null,"If you are developing on a Windows operating system you will need to configure NPM to use ",(0,r.kt)("inlineCode",{parentName:"p"},"Git-Bash")," to execute npm scripts.\nYou can do this with the following command:\n",(0,r.kt)("inlineCode",{parentName:"p"},'npm config set script-shell "C:\\\\Program Files\\\\Git\\\\git-bash.exe"')," (or another path if your install location differs)"),(0,r.kt)("h2",{id:"download-source-code"},"Download Source Code"),(0,r.kt)("p",null,"Open a shell and navigate to the directory where you want to install COINSTAC. This can be anywhere, but if you're following the development instructions below, having it in your HOME directory is recommended. Then, use git to download the repository:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/trendscenter/coinstac.git\n")),(0,r.kt)("p",null,"This will place COINSTAC into a new folder named \u201ccoinstac\u201d and check out the \u201cmaster\u201d branch."),(0,r.kt)("h2",{id:"install-dependencies"},"Install Dependencies"),(0,r.kt)("p",null,"From the ",(0,r.kt)("inlineCode",{parentName:"p"},"coinstac")," directory run the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"#  needed only for initial top level setup\nnpm install\n# runs npm i in the sub packages, and links the packages together via lerna\nnpm run build\n# sets local services configuration files for the ui\nnpm run switch:local\n")),(0,r.kt)("h2",{id:"set-environment-variables"},"Set environment variables"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Find or create the ",(0,r.kt)("inlineCode",{parentName:"li"},".*rc")," file on your system",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Mac uses zshell and the respective file is ",(0,r.kt)("inlineCode",{parentName:"li"},".zshrc"),"."),(0,r.kt)("li",{parentName:"ul"},"Windows Git Bash uses ",(0,r.kt)("inlineCode",{parentName:"li"},".bashrc"),"."),(0,r.kt)("li",{parentName:"ul"},"The directory of files can usually be found by running ",(0,r.kt)("inlineCode",{parentName:"li"},"echo ~")," in your respective shell."))),(0,r.kt)("li",{parentName:"ol"},"Copy the contents of ",(0,r.kt)("inlineCode",{parentName:"li"},"config/.env-example.sh")," into your ",(0,r.kt)("inlineCode",{parentName:"li"},".*rc")," file."),(0,r.kt)("li",{parentName:"ol"},"relaunch your terminal/shell."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"echo $env")," to see if the environment variables are set.")),(0,r.kt)("h2",{id:"prime-the-database"},"Prime the database"),(0,r.kt)("p",null,"In the top level ",(0,r.kt)("inlineCode",{parentName:"p"},"coinstac")," directory run ",(0,r.kt)("inlineCode",{parentName:"p"},"npm run devdata")," to start and prime the database"),(0,r.kt)("h2",{id:"run-the-ui"},"Run the UI"),(0,r.kt)("p",null,"The user interface is an Electron application. To run it:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Make sure your mqtt service (mosquitto or otherwise) is running, a daemon is fine"),(0,r.kt)("li",{parentName:"ol"},"In the top level directory run ",(0,r.kt)("inlineCode",{parentName:"li"},"npm run start")," to run webpack, and the api services"),(0,r.kt)("li",{parentName:"ol"},"Either in a new cli window or tmux/screen/etc session make go to the ",(0,r.kt)("em",{parentName:"li"},"coinstac/packages/coinstac-ui/")," directory."),(0,r.kt)("li",{parentName:"ol"},"Run ",(0,r.kt)("inlineCode",{parentName:"li"},"npm start")," to start the UI")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Test data for collections mapping can be found in ",(0,r.kt)("inlineCode",{parentName:"strong"},"coinstac/algorithm-development/test-data/"))),(0,r.kt)("h2",{id:"steps-to-setup-pipeline"},"Steps to Setup Pipeline"),(0,r.kt)("p",null,"A YouTube video showing the basic steps for creating a Consortia, adding Collection files, and running a Pipeline."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=QL95M74usAA"},(0,r.kt)("img",{parentName:"a",src:"https://img.youtube.com/vi/QL95M74usAA/0.jpg",alt:"IMAGE ALT TEXT HERE"}))))}u.isMDXComponent=!0}}]);